package net.vdbaan.issuefinder.service

import de.saxsys.javafx.test.JfxRunner
import de.saxsys.javafx.test.TestInJfxThread
import javafx.beans.InvalidationListener
import javafx.concurrent.Worker
import net.vdbaan.issuefinder.model.Finding
import org.junit.Test
import org.junit.runner.RunWith

import static org.junit.Assert.assertEquals

@RunWith(JfxRunner.class)
class FindingServiceTest {
//    @Test
//    @TestInJfxThread
//    void testService() {
//        File testFile = new File('.', '/testdata/Nessus.nessus')
//        FindingService service = new FindingService(testFile)
//        assertEquals('Got the wrong file', testFile, service.file)
//
//        service.stateProperty().addListener({
//            if (service.getState().equals(Worker.State.SUCCEEDED)) {
//                Object result = service.getValue()
//                assert result instanceof List<Finding>
//            }
//        } as InvalidationListener)
//
//        service.start()
//    }
}
